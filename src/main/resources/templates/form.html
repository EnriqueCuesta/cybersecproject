<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Sign up form</title>
    </head>
    <script>
        function isAvailable(i) {
            if (i > 0) {
                document.getElementById('fullevent').hidden = true;
                document.getElementById('signupform').hidden = false;
            }else{
                document.getElementById('fullevent').hidden = false;
                document.getElementById('signupform').hidden = true;
            }
        }
    </script>
    <body th:onload="'javascript:isAvailable(' + ${available} + ');'">

        <h1>Sign up to the event using this form</h1>
        <div id="fullevent">
            <h2>Sorry! Event is full.</h2>
        </div>
        <div id="signupform">
            <h2>Hurry up! Only <span th:text="${available}">99</span> requests left.</h2>

            <form action="#" th:action="@{/form}" method="POST">
                <p><label for="email">Email</label>: <input type="text" name="email" id="email"/></p>
                <p><label for="name">Name</label>: <input type="text" name="name" id="name"/></p>
                <p><label for="address">Address</label>: <input type="text" name="address" id="address"/></p>
                <p><input type="submit" value="Submit" /></p>
            </form>
        </div>
        <p></p>
    </body>
</html>
